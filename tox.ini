[tox]
envlist =
    pylint
    flake8
    isort
    py36
    bandit

skipsdist = True
toxworkdir = {env:TOX_WORKDIR:/tmp/tox-ghcontrib}

[testenv]
sitepackages = True
basepython = python3.6
setenv =
    PYTHONPATH = {toxinidir}:{toxinidir}
commands =
    py.test --cov-report term-missing --cov --nomigrations ghcontrib ghcontrib_project --verbose
deps =
    -r{toxinidir}/requirements-dev.txt

[testenv:flake8]
commands =
    flake8 ghcontrib ghcontrib_project

[testenv:isort]
commands =
    isort --check-only --recursive --diff ghcontrib ghcontrib_project

[testenv:pylint]
commands =
    pylint ghcontrib ghcontrib_project

[testenv:bandit]
commands =
    bandit -r ghcontrib ghcontrib_project
